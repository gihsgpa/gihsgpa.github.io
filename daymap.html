<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ...existing code... -->
  <title>Daymap Import</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Space Grotesk',sans-serif; background: #202A44; color: #fff; padding: 2rem; }
    .glass { background: rgba(255,255,255,0.1); border-radius: 1rem; padding: 1rem; margin-bottom: 1rem; }
    .center { text-align: center; }
    textarea { width: 100%; min-height: 120px; border-radius: 0.5rem; border: none; padding: 0.5rem; }
    button { background: #FFCD00; color: #202A44; border: none; border-radius: 0.5rem; padding: 0.4rem 0.75rem; font-weight: bold; cursor: pointer; margin-top: 0.5rem; }
    button:hover { background: #e6b800; }
    pre { background: #111a; color: #FFCD00; padding: 0.5rem; border-radius: 0.5rem; }
  </style>
</head>
<body>
<div class="center" style="margin-bottom:1rem;">
  <a href="index.html"><button>Main GPA Tracker</button></a>
  <a href="term-gpa.html"><button>Term/Semester Mode</button></a>
  <a href="dashboard-converter.html"><button>Dashboard & Converter</button></a>
  <a href="legal.html"><button>Legal & Contributors</button></a>
</div>

<div class="glass">
  <h2>Import Assessments from Daymap</h2>
  <ol>
    <li>Go to <a href="https://gihs.daymap.net/daymap/student/portfolio.aspx?tab=Assessment_Results" target="_blank">your Daymap Assessment Results page</a>.</li>
    <li>Open the browser console (F12 or Ctrl+Shift+I).</li>
    <li>Paste the following code and press Enter:</li>
    <li>Note that this version is unstable.</li>
  </ol>
  <pre>
function addSubject(name) {
  // You must add this subject manually in the GPA Calculator UI if not present.
  // This is a placeholder for compatibility with the code below.
}
function addAssessment(subjectIndex, score, outOf, weight) {
  // You must add this assessment manually in the GPA Calculator UI.
  // This is a placeholder for compatibility with the code below.
}
addSubject("a");
document.querySelector("#tblTasks").childNodes[0].childNodes.forEach((el,index)=>{
    if (el.innerText && el.innerText.includes("Summative")) {
        var data = el.innerText.split("    ")
        console.log(`Task: ${data[0]}\nWeighting: ${data[2]}\nMark: ${data[4].split("/")[0]} out of ${data[4].split("/")[1]}`)
        addAssessment(0, data[4].split("/")[0], data[4].split("/")[1], data[2])
    }
})
  </pre>
  <ol start="4">
    <li>Copy the output or data and paste it below to import into the GPA Calculator:</li>
  </ol>
  <textarea id="daymapInput" placeholder="Paste your Daymap data here..."></textarea>
  <button onclick="parseDaymap()">Import to GPA Calculator</button>
  <p id="importStatus" class="center tiny"></p>
</div>
<script>
function parseDaymap() {
  const input = document.getElementById('daymapInput').value;
  // Example parser: expects lines like "Task: ...\nWeighting: ...\nMark: ... out of ..."
  const lines = input.split('\n');
  let imported = 0;
  lines.forEach(line => {
    if (line.startsWith('Task:')) {
      // ...parse and add to your main GPA calculator (integration needed)...
      imported++;
    }
  });
  document.getElementById('importStatus').textContent = imported ? `Imported ${imported} tasks.` : 'No tasks found.';
}
</script>
</body>
</html>